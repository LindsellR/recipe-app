{% extends "base.html" %}

{% block title %}Logout Successful{% endblock %}

{% block content %}
<section class="logout-success" role="region" aria-labelledby="logout-heading">
    <!-- Heading with ID for screen readers -->
    <h1 id="logout-heading">You have successfully logged out</h1>

    <!-- Informational text with clear context -->
    <p role="status">We hope to see you again soon!</p>

    <!-- Login button with ARIA label -->
    <a href="{% url 'login' %}" class="btn btn-login" aria-label="Login again to Recipe App">Login Again</a>

    <!-- Countdown information with ARIA live region -->
    <p>
        You will be redirected to the welcome page in
        <span id="countdown" aria-live="polite">5</span> seconds.
    </p>
</section>

<script>
    let seconds = 5;
    const countdownEl = document.getElementById("countdown");

    const interval = setInterval(() => {
        seconds--;
        countdownEl.textContent = seconds;

        if (seconds <= 0) {
            clearInterval(interval);
            window.location.href = "{% url 'recipes:welcome' %}";
        }
    }, 1000);
</script>
{% endblock %}